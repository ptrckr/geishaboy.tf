<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GeishaBoy.tf</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="favicon.png" sizes="32x32">
    <script>
      (function(d) {
        var config = {
          kitId: "zob0rxl",
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);
    </script>
  </head>
  <body>
    <header class="section">
      <nav>
        <h1><a href="https://geishaboy.tf">GeishaBoy.tf</a></h1>
        <ul>
          <li><a href="https://backpack.tf/profiles/76561198060233163">backpack.tf</a></li>
          <li><a href="https://steamcommunity.com/id/ptrckr">Steam</a></li>
        </ul>
      </nav>
      <div class="hero-geisha">
        <img src="img/header/geishaboy.png" />
        <div class="hero-geisha-effect-background"></div>
      </div>
      <p class="hero-copy">I‘m collecting all unusual Geisha Boys ― The collection consists of {{ total_geishas_collected }} of {{ total_geishas_available }} available<span class="sup" title="Known to backpack.tf. More might exist but they have not yet been discovered.">※</span> Geishas, that's {{ 100.0 | divided_by: total_geishas_available | times: total_geishas_collected | round }}㌫, last updated on {{ "now" | date: "%Y-%m-%d" }}。<span class="hero-background-copy">芸者少年</span></p>
      <p class="sub-hero-copy grid-2 grid-center">If you‘re selling one which I‘m missing <a href="https://steamcommunity.com/tradeoffer/new/?partner=99967435&token=eCs5JlvU" target="_blank">send me a trade offer</a> or <a href="https://steamcommunity.com/id/ptrckr">add me on steam</a> to negotiate。</p>
      <img class="header-effect" src="img/header/effect.png" />
    </header>

    {% for series in page.series %}
      {% assign collected_effects = 0 %}
      {% assign total_effects = 0 %}

      {% for effect in series.effects %}
        {% if effect.collected %}
          {% assign collected_effects = collected_effects | plus: 1 %}
        {% endif %}

        {% unless effect.unknown %}
          {% assign total_effects = total_effects | plus: 1 %}
        {% endunless %}
      {% endfor %}

      <section class="section">
        <div class="grid-1 section-series">{{ series.name }}</div>
        <div class="grid-1 section-progress">{{ collected_effects }}/{{ total_effects }} ｢{{ 100.0 | divided_by: total_effects | times: collected_effects | round }}%｣   →</div>
        <ol class="grid-2 section-effect-list">
          {% for effect in series.effects %}
            <li class="{% unless effect.collected %}missing{% endunless %} {% if effect.unknown %}unknown{% endif %}">{{ effect.name }}</li>
          {% endfor %}
        </ol>
        <ol class="section-stamps">
          {% for effect in series.effects %}
            {% if effect.collected %}
              <li class="grid-1 stamp">
                <div class="stamp-image-wrapper">
                  <img src="img/stamps/{{ effect.id }}.jpg" />
                </div>
              </li>
            {% endif %}
          {% endfor %}
        </ol>
      </section>
    {% endfor %}

    <footer>
      <div class="grid-3 grid-push-left-1">
        <span>Unusual particle images created by <a href="https://backpack.tf/developer/particles">backpack.tf</a>。</span>
        <span>Team Fortress 2 is a trademark of <a href="https://valvesoftware.com">valvesoftware.com</a>。</span>
        <span><a href="https://geishaboy.tf">geishaboy.tf</a> is another addiction by <a href="http://pr.link">pr.link</a>。</span>
      </div>
      <img class="footer-effect" src="img/footer/effect.png" />
      <img class="footer-medic" src="img/footer/medic.png" />
    </footer>

    <script>
      Array.from(document.querySelectorAll(".stamp")).forEach(stamp => {
        stamp.style.transform = `rotate(${Math.random() * (Math.random() > .5 ? 1.5 : -1.5)}deg)`;
      })
    </script>
  </body>
</html>
